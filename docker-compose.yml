version: "3"

services:
  blog:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - ${SSL_PORT:-433}:443
    environment:
      - SERVER_NAME=${SERVER_NAME:-localhost}
    volumes:
      - ${SSL_CERTIFICATE_PATH:?err}:/etc/nginx/ssl/cert.pem
      - ${SSL_KEY_PATH:?err}:/etc/nginx/ssl/key.pem
      - ${SSL_CHAIN_PATH:?err}:/etc/nginx/ssl/chain.pem
